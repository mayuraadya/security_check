>[!IMPORTANT]
>This repository has moved to [here](https://github.com/NovoNordisk-OpenSource/security_check) and is being deprecated and will be disabled on 2025-07-01. This version of the repository is part of the Release Candidate for the QMS v2.0 pipeline tool stack. To migrate, regenerate the pipeline with the latest version of the QMS CLI, which will update paths and dependencies.

# security_check
Adding security check of codebase to QMS pipeline

## Purpose
This action will scan the codebase for security vulnerabilities and report the findings to the QMS pipeline as an artifact.

## Inputs
The following inputs are required for the action to run:
- *Snyk API Key.* This is the API key for the Snyk account that will be used to scan the codebase for vulnerabilities. This should preferably be stored as a repository secret.
- *Pipeline_Run.* To create a unique name for the artifact, the pipeline run number is used. This is the run number of the QMS pipeline.

## Outputs
The following outputs are generated by the action:
- Snyk test results. This is the result of the Snyk test that was run on the codebase.
    Codes are:
  * 0: success (scan completed), no vulnerabilities found
  * 1: action_needed (scan completed), vulnerabilities found
  * 2: failure, try to re-run command
  * 3: failure, no supported projects detected
  Result codes are annotated to the action
- Snyk test report. This is the report of the Snyk test that was run on the codebase. The report will be saved as an artifact in the QMS pipeline.

## Usage
To use the action, add the following to the QMS pipeline:
```yaml
- name: Security Check
  uses: nn-dma/security_check@main
  with:
    SnykToken: ${{ secrets.SNYK_TOKEN }}
    Pipeline_Run: ${{ github.run_id}}
```
